<!DOCTYPE html><html lang="en" class="library-layout-active"> <head><meta charset="UTF-8"><meta name="description" content="A knowledge library for the school"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/png" href="/images/library_logo.png"><meta name="generator" content="Astro v5.8.0"><title>Asymptotic Light Geometry | Arithmoi Library</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"><style>.pdf-viewer-container[data-astro-cid-v6ggcyrl]{width:100%;display:flex;flex-direction:column;align-items:center;border:1px solid #ccc;background-color:#f9f9f9;padding:10px;box-sizing:border-box;height:100%;overflow:hidden}#pdf-canvas[data-astro-cid-v6ggcyrl]{border:1px solid #bbb;display:block;margin-bottom:10px;flex-shrink:0}.pdf-viewer-container[data-astro-cid-v6ggcyrl]>#pdf-canvas[data-astro-cid-v6ggcyrl]{overflow-y:auto}.canvas-wrapper[data-astro-cid-v6ggcyrl]{width:100%;flex-grow:1;overflow-y:auto;overflow-x:auto;display:flex;justify-content:center;margin-bottom:10px}.pdf-controls[data-astro-cid-v6ggcyrl]{display:flex;justify-content:center;align-items:center;padding:10px 0;background-color:#eee;width:100%;box-sizing:border-box;flex-shrink:0}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]{padding:8px 12px;margin:0 10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]:disabled{background-color:#ccc;cursor:not-allowed}.pdf-controls[data-astro-cid-v6ggcyrl] span[data-astro-cid-v6ggcyrl]{margin:0 5px;font-size:1em}.page-indicator[data-astro-cid-v6ggcyrl]{cursor:pointer;padding:0 5px;display:inline-flex;align-items:center}.page-input-container[data-astro-cid-v6ggcyrl]{display:flex;align-items:center;justify-content:center}#page-input[data-astro-cid-v6ggcyrl]{width:50px;text-align:right;margin-right:5px;padding:4px 6px;border:1px solid #ccc;border-radius:3px;font-size:.95em}#page-input[data-astro-cid-v6ggcyrl].input-error{border-color:#d9534f;box-shadow:0 0 0 .2rem #d9534f40}.page-input-error-icon[data-astro-cid-v6ggcyrl]{color:#d9534f;margin-left:5px;cursor:help;font-weight:700;display:inline-flex;align-items:center}#goto-page-btn[data-astro-cid-v6ggcyrl]{padding:5px 10px;font-size:.9em;line-height:1}.spacer[data-astro-cid-v6ggcyrl]{margin:0 10px}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl] .icon[data-astro-cid-v6ggcyrl]{display:none;font-weight:700}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl] .text[data-astro-cid-v6ggcyrl]{display:inline}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]#fullscreen-btn .icon[data-astro-cid-v6ggcyrl]{display:inline;font-size:1.2em}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]#fullscreen-btn .text[data-astro-cid-v6ggcyrl]{display:none!important}@media (max-width: 768px){.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]#prev-page .text[data-astro-cid-v6ggcyrl],.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]#next-page .text[data-astro-cid-v6ggcyrl]{display:none}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]#prev-page .icon[data-astro-cid-v6ggcyrl],.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]#next-page .icon[data-astro-cid-v6ggcyrl]{display:inline}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl].zoom-button{font-weight:700;padding:8px}.zoom-level-display[data-astro-cid-v6ggcyrl]{display:none}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]{padding:8px;margin:0 5px}.pdf-controls[data-astro-cid-v6ggcyrl] button[data-astro-cid-v6ggcyrl]#fullscreen-btn{padding:8px 10px}}
</style>
<link rel="stylesheet" href="/_astro/about.DTV2XM_J.css">
<style>.book-detail[data-astro-cid-y47snweo]{padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.book-detail[data-astro-cid-y47snweo] h1[data-astro-cid-y47snweo]{margin-top:0;margin-bottom:.5rem;font-size:2rem;color:#333}.author[data-astro-cid-y47snweo]{font-style:italic;color:#555;margin-bottom:1rem}.summary[data-astro-cid-y47snweo]{margin-bottom:1.5rem;line-height:1.6}.pdf-embed-container[data-astro-cid-y47snweo]{margin-top:20px;border:1px solid #ddd;height:75vh;display:flex;flex-direction:column}.pdf-embed-container[data-astro-cid-y47snweo]>.pdf-viewer-container{flex-grow:1;min-height:0}
</style></head> <body> <nav data-astro-cid-5blmo7yk> <div class="nav-container" data-astro-cid-5blmo7yk> <div class="logo" data-astro-cid-5blmo7yk> <img src="/images/library_logo.png" alt="Arithmoi Library Logo" class="navbar-logo-img" data-astro-cid-5blmo7yk> <a href="/" data-astro-cid-5blmo7yk>Arithmoi Library</a> </div> <button class="hamburger" aria-label="Toggle menu" aria-expanded="false" data-astro-cid-5blmo7yk> <span class="hamburger-box" data-astro-cid-5blmo7yk> <span class="hamburger-inner" data-astro-cid-5blmo7yk></span> </span> </button> <ul class="nav-links" data-astro-cid-5blmo7yk> <li data-astro-cid-5blmo7yk><a href="/" data-astro-cid-5blmo7yk>Home</a></li> <li data-astro-cid-5blmo7yk><a href="/library" class="active" data-astro-cid-5blmo7yk>Library</a></li> <li data-astro-cid-5blmo7yk><a href="/about" data-astro-cid-5blmo7yk>About</a></li> <li data-astro-cid-5blmo7yk><a href="/contact" data-astro-cid-5blmo7yk>Contact</a></li> </ul> </div> </nav> <script type="module">const e=document.querySelector(".hamburger"),a=document.querySelector(".nav-links");e.addEventListener("click",()=>{const t=e.getAttribute("aria-expanded")==="true"||!1;e.setAttribute("aria-expanded",!t),a.classList.toggle("is-active"),e.classList.toggle("is-active")});</script>  <button class="sidebar-toggle" aria-label="Toggle sidebar" aria-expanded="false"> <span class="hamburger-box"> <span class="hamburger-inner"></span> </span> </button> <div class="main-container"> <aside id="sidebar" data-astro-cid-ssfzsv2f> <h4 data-astro-cid-ssfzsv2f>Library Navigation</h4> <ul data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f><a href="/library/" data-astro-cid-ssfzsv2f>Welcome</a></li> <li data-astro-cid-ssfzsv2f> <a href="/library/insights/" class="category-title" data-astro-cid-ssfzsv2f>Insights</a> <ul class="submenu" data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f><a href="/library/insights/power-of-mathematics-and-numbers" data-astro-cid-ssfzsv2f>The Power of Mathematics and Numbers</a></li><li data-astro-cid-ssfzsv2f><a href="/library/insights/alchemy-of-symmetry-and-anti-symmetry" data-astro-cid-ssfzsv2f>The Alchemy of Symmetry and Anti-Symmetry</a></li><li data-astro-cid-ssfzsv2f><a href="/library/insights/bridge-of-thought" data-astro-cid-ssfzsv2f>The Bridge of Thought</a></li><li data-astro-cid-ssfzsv2f><a href="/library/insights/foundations-for-mathematical-reality" data-astro-cid-ssfzsv2f>Foundations for Mathematical Reality</a></li><li data-astro-cid-ssfzsv2f><a href="/library/insights/pondering-on-the-god-equation" data-astro-cid-ssfzsv2f>Pondering on the God Equation</a></li><li data-astro-cid-ssfzsv2f><a href="/library/insights/mystical-dance-of-symmetry-and-anti-symmetry" data-astro-cid-ssfzsv2f>The Mystical Dance of Symmetry and Anti-Symmetry</a></li><li data-astro-cid-ssfzsv2f><a href="/library/insights/mathematical-and-medical-alliance" data-astro-cid-ssfzsv2f>The Mathematical and Medical Alliance</a></li><li data-astro-cid-ssfzsv2f><a href="/library/insights/ontological-mathematics-and-eastern-philosophy" data-astro-cid-ssfzsv2f>Ontological Mathematics and Eastern Philosophy</a></li> </ul> </li> <li data-astro-cid-ssfzsv2f> <a href="/library/foundations/" class="category-title" data-astro-cid-ssfzsv2f>Foundations</a> <ul class="submenu" data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f><a href="/library/foundations/essential-calculus-theorems" data-astro-cid-ssfzsv2f>Essential Calculus Theorems</a></li><li data-astro-cid-ssfzsv2f><a href="/library/foundations/real-and-complex-mathematical-analysis" data-astro-cid-ssfzsv2f>Real and Complex Mathematical Analysis</a></li> </ul> </li> <li data-astro-cid-ssfzsv2f> <a href="/library/explorations/" class="category-title" data-astro-cid-ssfzsv2f>Explorations</a> <ul class="submenu" data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f><a href="/library/explorations/novel-u3-group-applications" data-astro-cid-ssfzsv2f>A Novel U(3) Group and Applications</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/lie-groups-algebras" data-astro-cid-ssfzsv2f>Lie Groups and Lie Algebras</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/imaginary-derivation-e" data-astro-cid-ssfzsv2f>An Imaginary Derivation of e</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/asymptotic-light-geometry" data-astro-cid-ssfzsv2f>Asymptotic Light Geometry</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/derivation-complex-unit-sphere" data-astro-cid-ssfzsv2f>Derivation of the Complex Unit Sphere</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/geometric-thoughts-guest-algebra" data-astro-cid-ssfzsv2f>Geometric Thoughts with Guest Algebra</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/gravitational-wave-signal-processing" data-astro-cid-ssfzsv2f>Gravitational Wave Signal Processing</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/imaginary-angles-connection-between" data-astro-cid-ssfzsv2f>Imaginary Angles and the Connection Between</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/pascals-tetrahedron-combinatorics-theory" data-astro-cid-ssfzsv2f>Pascal&#39;s Tetrahedron, Combinatorics, and Theory</a></li><li data-astro-cid-ssfzsv2f><a href="/library/explorations/strange-attractor-lorenz-system" data-astro-cid-ssfzsv2f>The Strange Attractor of the Lorenz System</a></li> </ul> </li> <li data-astro-cid-ssfzsv2f> <a href="/library/masteries/" class="category-title" data-astro-cid-ssfzsv2f>Masteries</a>  </li> </ul> </aside>  <main class="content-area"> <div class="content-wrapper library-content-wrapper book-detail-active">  <article class="book-detail" data-astro-cid-y47snweo> <h1 data-astro-cid-y47snweo>Asymptotic Light Geometry</h1> <p class="author" data-astro-cid-y47snweo>By: Jason Glowney</p> <p class="summary" data-astro-cid-y47snweo>An article on asymptotic light geometry and its relations.</p> <div class="pdf-embed-container" data-astro-cid-y47snweo> <div id="pdf-viewer-container" class="pdf-viewer-container" data-astro-cid-v6ggcyrl> <div class="canvas-wrapper" data-astro-cid-v6ggcyrl> <canvas id="pdf-canvas" data-astro-cid-v6ggcyrl></canvas> </div> <div class="pdf-controls" data-astro-cid-v6ggcyrl> <button id="prev-page" data-astro-cid-v6ggcyrl> <span class="icon" data-astro-cid-v6ggcyrl><</span> <span class="text" data-astro-cid-v6ggcyrl>Previous</span> </button> <div id="page-indicator" class="page-indicator" data-astro-cid-v6ggcyrl> <span id="page-num-display" data-astro-cid-v6ggcyrl></span>&nbsp;/&nbsp;<span id="page-count-display" data-astro-cid-v6ggcyrl></span> </div> <div id="page-navigation-group" style="display: none;" data-astro-cid-v6ggcyrl> <div id="page-input-container" class="page-input-container" data-astro-cid-v6ggcyrl> <input type="number" id="page-input" min="1" data-astro-cid-v6ggcyrl> <button id="goto-page-btn" data-astro-cid-v6ggcyrl>Go</button> <span id="page-input-error-icon" class="page-input-error-icon" style="display: none;" data-astro-cid-v6ggcyrl>&#9432;</span> </div> </div> <button id="next-page" data-astro-cid-v6ggcyrl> <span class="icon" data-astro-cid-v6ggcyrl>></span> <span class="text" data-astro-cid-v6ggcyrl>Next</span> </button> <span class="spacer" data-astro-cid-v6ggcyrl></span> <button id="zoom-out" class="zoom-button" data-astro-cid-v6ggcyrl>-</button> <span id="zoom-level" class="zoom-level-display" data-astro-cid-v6ggcyrl>100%</span> <button id="zoom-in" class="zoom-button" data-astro-cid-v6ggcyrl>+</button> <span class="spacer" data-astro-cid-v6ggcyrl></span> <button id="fullscreen-btn" data-astro-cid-v6ggcyrl> <span class="icon" data-astro-cid-v6ggcyrl>&#x2922;</span> <!-- Unicode for fullscreen icon â¤¢ --> <span class="text" style="display: none;" data-astro-cid-v6ggcyrl>Full Screen</span> <!-- Text always hidden --> </button> </div> </div> <script>(function(){const pdfUrl = "/pdfs/explorations/glowney_jason_Asymptotic_Light_Geometry_and_its_Relati.pdf";
const pdfjsWorkerSrc = "/pdf.worker.min.mjs";

  // Dynamically import pdfjs-dist to keep initial load small
  import('/pdf.min.mjs').then(async (pdfjsLib) => {
    if (!pdfjsLib.GlobalWorkerOptions.workerSrc && pdfjsWorkerSrc) {
      pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorkerSrc;
    }

    const loadingTask = pdfjsLib.getDocument(pdfUrl);
    const pdfDoc = await loadingTask.promise;

    const pageNumElement = document.getElementById('page-num-display'); // Updated ID
    const pageCountElement = document.getElementById('page-count-display'); // Updated ID
    const pageIndicator = document.getElementById('page-indicator');
    const pageNavigationGroup = document.getElementById('page-navigation-group');
    const pageInputContainer = document.getElementById('page-input-container'); // This is now the inner div
    const pageInput = document.getElementById('page-input');
    const gotoPageBtn = document.getElementById('goto-page-btn');
    const pageInputErrorIcon = document.getElementById('page-input-error-icon');
    const prevButton = document.getElementById('prev-page');
    const nextButton = document.getElementById('next-page');
    const zoomOutButton = document.getElementById('zoom-out');
    const zoomInButton = document.getElementById('zoom-in');
    const zoomLevelElement = document.getElementById('zoom-level');
    const fullscreenButton = document.getElementById('fullscreen-btn');
    const pdfViewerContainer = document.getElementById('pdf-viewer-container');
    const canvas = document.getElementById('pdf-canvas');
    const ctx = canvas.getContext('2d');

    let currentPageNum = 1;
    let currentScale = 1.5; // Initial scale
    const totalPages = pdfDoc.numPages;
    pageCountElement.textContent = totalPages.toString();

    function updateZoomLevelDisplay() {
      zoomLevelElement.textContent = `${Math.round(currentScale * 100)}%`;
    }

    async function renderPage(num) {
      const page = await pdfDoc.getPage(num);
      const viewport = page.getViewport({ scale: currentScale });

      canvas.height = viewport.height;
      canvas.width = viewport.width;
      // Set the CSS display size of the canvas to match its drawing resolution
      canvas.style.width = viewport.width + 'px';
      canvas.style.height = viewport.height + 'px';

      const renderContext = {
        canvasContext: ctx,
        viewport: viewport,
      };
      await page.render(renderContext).promise;
      pageNumElement.textContent = num.toString();

      // Update button states
      prevButton.disabled = num <= 1;
      nextButton.disabled = num >= totalPages;
      // Consider disabling zoom buttons at min/max scale if desired
    }

    prevButton.addEventListener('click', () => {
      if (currentPageNum <= 1) return;
      currentPageNum--;
      renderPage(currentPageNum);
    });

    nextButton.addEventListener('click', () => {
      if (currentPageNum >= totalPages) return;
      currentPageNum++;
      renderPage(currentPageNum);
    });

    renderPage(currentPageNum);
    updateZoomLevelDisplay(); // Initial display

    zoomInButton.addEventListener('click', () => {
      currentScale += 0.25;
      renderPage(currentPageNum);
      updateZoomLevelDisplay();
    });

    zoomOutButton.addEventListener('click', () => {
      if (currentScale <= 0.25) return; // Minimum scale
      currentScale -= 0.25;
      renderPage(currentPageNum);
      updateZoomLevelDisplay();
    });

    fullscreenButton.addEventListener('click', () => {
      if (!document.fullscreenElement) {
        pdfViewerContainer.requestFullscreen().catch(err => {
          alert(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);
        });
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        }
      }
    });

    // Listen for fullscreen changes to update button text/icon if needed
    document.addEventListener('fullscreenchange', () => {
      // For now, we don't change the button appearance based on state,
      // but this is where you could do it.
      // For example, change "Full Screen" to "Exit Full Screen"
    });

    // --- Go to Page Functionality ---
    function switchToPageDisplayView() {
      pageNavigationGroup.style.display = 'none';
      pageInput.classList.remove('input-error');
      pageInput.removeAttribute('title');
      pageInput.removeAttribute('aria-invalid');
      pageInputErrorIcon.style.display = 'none';
      pageInputErrorIcon.removeAttribute('title');
      pageIndicator.style.display = 'inline-flex'; // Or 'block' or 'flex' depending on desired layout
    }

    function switchToPageInputView() {
      pageIndicator.style.display = 'none';
      pageNavigationGroup.style.display = 'block'; // Show the group
      pageInput.classList.remove('input-error');
      pageInput.removeAttribute('title');
      pageInput.removeAttribute('aria-invalid');
      pageInputErrorIcon.style.display = 'none';
      pageInputErrorIcon.removeAttribute('title');
      pageInput.value = currentPageNum.toString();
      pageInput.max = totalPages.toString();
      pageInput.focus();
      pageInput.select();
    }

    pageIndicator.addEventListener('click', switchToPageInputView);

    function handleGoToPage() {
      const newPageNum = parseInt(pageInput.value, 10);
      if (!isNaN(newPageNum) && newPageNum >= 1 && newPageNum <= totalPages) {
        pageInput.classList.remove('input-error');
        pageInput.removeAttribute('title');
        pageInput.removeAttribute('aria-invalid');
        pageInputErrorIcon.style.display = 'none';
        pageInputErrorIcon.removeAttribute('title');
        if (newPageNum !== currentPageNum) {
          currentPageNum = newPageNum;
          renderPage(currentPageNum);
        }
        switchToPageDisplayView();
      } else {
        pageInput.classList.add('input-error');
        // pageInput.title = `Choose a page number between 1 and ${totalPages}.`; // Title moved to icon
        pageInput.setAttribute('aria-invalid', 'true');
        pageInputErrorIcon.style.display = 'inline';
        pageInputErrorIcon.title = `Choose a page number between 1 and ${totalPages}.`;
        pageInput.focus();
        pageInput.select();
      }
    }

    gotoPageBtn.addEventListener('click', handleGoToPage);
    pageInput.addEventListener('keypress', (event) => {
      if (event.key === 'Enter') {
        event.preventDefault(); // Prevent form submission if it's in a form
        handleGoToPage();
      }
    });

    // Click outside to cancel page input
    document.addEventListener('click', function(event) {
      if (pageNavigationGroup.style.display === 'block') { // Check the parent group
        const isClickInsideNavGroup = pageNavigationGroup.contains(event.target);
        const isClickOnPageIndicator = pageIndicator.contains(event.target); // If user clicks indicator again
        if (!isClickInsideNavGroup && !isClickOnPageIndicator) {
          switchToPageDisplayView();
        }
      }
    }, true); // Use capture phase to catch clicks earlier

    pageInputErrorIcon.addEventListener('click', () => {
      // Only show alert if the icon is visible (i.e., there's an error) and it has a title
      if (pageInputErrorIcon.style.display !== 'none' && pageInputErrorIcon.title) {
        alert(pageInputErrorIcon.title);
      }
    });

  }).catch(error => {
    console.error("Error loading or rendering PDF:", error);
    const container = document.getElementById('pdf-viewer-container');
    if (container) {
      container.innerHTML = `<p>Error loading PDF: ${error.message}.</p>`;
    }
  });
})();</script>  </div>  </article>  </div> </main> </div> <footer data-astro-cid-sz7xmlte> <div class="footer-container library-page-footer" data-astro-cid-sz7xmlte> <div class="footer-columns" data-astro-cid-sz7xmlte> <div class="column" data-astro-cid-sz7xmlte> <h5 data-astro-cid-sz7xmlte>Menu</h5> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="/" data-astro-cid-sz7xmlte>Home</a></li> <li data-astro-cid-sz7xmlte><a href="/library/" data-astro-cid-sz7xmlte>Library</a></li> <li data-astro-cid-sz7xmlte><a href="/about/" data-astro-cid-sz7xmlte>About</a></li> <li data-astro-cid-sz7xmlte><a href="/contact/" data-astro-cid-sz7xmlte>Contact</a></li> </ul> </div> <div class="column" data-astro-cid-sz7xmlte> <h5 data-astro-cid-sz7xmlte>References</h5> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte><a href="https://arithmoi.org" data-astro-cid-sz7xmlte>Arithmoi Website</a></li> <li data-astro-cid-sz7xmlte><a href="/privacy-policy/" data-astro-cid-sz7xmlte>Privacy Policy</a></li> <li data-astro-cid-sz7xmlte><a href="/terms-conditions/" data-astro-cid-sz7xmlte>Terms and Conditions</a></li> <li data-astro-cid-sz7xmlte><a href="/social/" data-astro-cid-sz7xmlte>Social Links</a></li> </ul> </div> </div> <div class="copyright" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>&copy; 2025 Arithmoi Foundation. All rights reserved.</p> </div> </div></footer>  <script type="module">const e=document.querySelector(".sidebar-toggle"),t=document.getElementById("sidebar");e&&t&&e.addEventListener("click",()=>{const i=e.getAttribute("aria-expanded")==="true"||!1;e.setAttribute("aria-expanded",String(!i)),t.classList.toggle("is-active"),e.classList.toggle("is-active")});document.addEventListener("click",function(i){if(t&&e&&t.classList.contains("is-active")){const s=t.contains(i.target),a=e.contains(i.target);!s&&!a&&(t.classList.remove("is-active"),e.classList.remove("is-active"),e.setAttribute("aria-expanded","false"))}});</script> </body> </html>  